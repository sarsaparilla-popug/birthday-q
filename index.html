<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portal Quest</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Courier New', monospace;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            color: #fff;
        }
        
        .container {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 165, 0, 0.3);
            border-radius: 20px;
            padding: 40px;
            max-width: 500px;
            width: 100%;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }
        
        h1 {
            text-align: center;
            color: #ffa500;
            margin-bottom: 10px;
            font-size: 2em;
            text-shadow: 0 0 10px rgba(255, 165, 0, 0.5);
        }
        
        .subtitle {
            text-align: center;
            color: #aaa;
            margin-bottom: 30px;
            font-size: 0.9em;
        }
        
		/* –≠–∫—Ä–∞–Ω –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è */									   
        .welcome-screen {
            text-align: center;
        }
        
        .welcome-text {
            font-size: 1.2em;
            line-height: 1.6;
            margin-bottom: 30px;
            color: #ddd;
        }
        
        .start-button {
            width: 100%;
            padding: 20px;
            font-size: 1.3em;
            background: linear-gradient(135deg, #ff8c00, #ffa500);
            border: none;
            border-radius: 10px;
            color: #fff;
            font-weight: bold;
            cursor: pointer;
            font-family: 'Courier New', monospace;
            transition: all 0.3s;
            text-transform: uppercase;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        .start-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(255, 165, 0, 0.4);
            animation: none;
        }
        
		/* –≠–∫—Ä–∞–Ω —Å –ø–µ—Ä–≤–æ–π –ø–æ–¥—Å–∫–∞–∑–∫–æ–π */													 
        .clue-screen {
            display: none;
            text-align: center;
        }

        .clue-text {
            font-size: 1.1em;
            line-height: 1.6;
            margin-bottom: 25px;
            color: #ddd;
        }

        .progress {
            font-size: 0.9em;
            color: #ffa500;
            margin-bottom: 20px;
            font-weight: bold;
        }
        
		/* –û—Å–Ω–æ–≤–Ω–æ–π —ç–∫—Ä–∞–Ω –∫–≤–µ—Å—Ç–∞ */											  
        .quest-screen {
            display: none;
        }
        
        .input-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 10px;
            color: #ffa500;
            font-size: 1.1em;
        }
        
        input {
            width: 100%;
            padding: 15px;
            font-size: 1.1em;
            border: 2px solid rgba(255, 165, 0, 0.3);
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
            font-family: 'Courier New', monospace;
            text-transform: uppercase;
            transition: all 0.3s;
        }
        
        input:focus {
            outline: none;
            border-color: #ffa500;
            box-shadow: 0 0 15px rgba(255, 165, 0, 0.3);
        }
        
        button {
            width: 100%;
            padding: 15px;
            font-size: 1.2em;
            background: linear-gradient(135deg, #ff8c00, #ffa500);
            border: none;
            border-radius: 10px;
            color: #fff;
            font-weight: bold;
            cursor: pointer;
            font-family: 'Courier New', monospace;
            transition: all 0.3s;
            text-transform: uppercase;
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(255, 165, 0, 0.4);
        }
        
        button:active {
            transform: translateY(0);
        }
        
        .message {
            margin-top: 20px;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            font-size: 1em;
            display: none;
        }
        
        .message.error {
            background: rgba(255, 0, 0, 0.2);
            border: 1px solid rgba(255, 0, 0, 0.5);
            color: #ff6b6b;
        }
        
        .message.success {
            background: rgba(0, 255, 0, 0.2);
            border: 1px solid rgba(0, 255, 0, 0.5);
            color: #51cf66;
        }
        
        .audio-player {
            margin-top: 20px;
        }
        
        audio {
            width: 100%;
            border-radius: 10px;
            filter: sepia(100%) hue-rotate(10deg) saturate(3);
        }
        
        .hint {
            text-align: center;
            margin-top: 20px;
            font-size: 0.85em;
            color: #888;
        }

        .loading {
            display: inline-block;
            animation: blink 1.5s infinite;
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }

        .replay-button {
            margin-top: 15px;
            padding: 12px;
            font-size: 1em;
            background: rgba(255, 165, 0, 0.3);
            border: 1px solid rgba(255, 165, 0, 0.5);
        }

        .replay-button:hover {
            background: rgba(255, 165, 0, 0.5);
        }

		/* –°–ø–æ–π–ª–µ—Ä —Å —Ç–µ–∫—Å—Ç–æ–º –ø–æ–¥—Å–∫–∞–∑–∫–∏ */														 
        .spoiler-container {
            margin-top: 20px;
            text-align: center;
        }

        .spoiler-button {
            padding: 10px 20px;
            font-size: 0.9em;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 165, 0, 0.2);
            color: #888;
            cursor: pointer;
            transition: all 0.3s;
            margin-bottom: 10px;
        }

        .spoiler-button:hover {
            background: rgba(255, 165, 0, 0.1);
            color: #aaa;
        }

        .spoiler-content {
            display: none;
            padding: 15px;
            background: rgba(255, 165, 0, 0.05);
            border: 1px solid rgba(255, 165, 0, 0.2);
            border-radius: 10px;
            color: #ddd;
            font-size: 0.95em;
            line-height: 1.5;
            margin-top: 10px;
        }

        .spoiler-content.visible {
            display: block;
            animation: fadeIn 0.3s;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

		/* –ê—É–¥–∏–æ–ø–ª–µ–µ—Ä –≤ –º–µ–Ω—é (—Ñ–æ–Ω–æ–≤–∞—è –º—É–∑—ã–∫–∞) */																	
        .background-audio {
            margin-top: 20px;
            padding: 15px;
            background: rgba(255, 165, 0, 0.1);
            border-radius: 10px;
            border: 1px solid rgba(255, 165, 0, 0.2);
        }

        .background-audio p {
            font-size: 0.9em;
            color: #aaa;
            margin-bottom: 10px;
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>BIRTHDAY PORTAL QUEST</h1>
        
        <div class="welcome-screen" id="welcomeScreen">
            <div class="welcome-text">
                <p style="margin-bottom: 20px;">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —Ç–µ—Å—Ç–æ–≤—É—é –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—é Aperture Science.</p>
                <p style="margin-bottom: 20px;">–ü–µ—Ä–µ–¥ —Ç–æ–±–æ–π —Ä—è–¥ –∏—Å–ø—ã—Ç–∞–Ω–∏–π. –¢–æ—Ä—Ç –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è. –°–ª—É—à–∞–π –ø–æ–¥—Å–∫–∞–∑–∫–∏ –∏ –∏—â–∏ –∫–∞—Ä—Ç–æ—á–∫–∏ —Å –ø–∞—Ä–æ–ª—è–º–∏.</p>
                <p style="font-size: 0.9em; color: #888;">üîä –í–∫–ª—é—á–∏ –∑–≤—É–∫</p>
            </div>

			<!-- –§–û–ù–û–í–ê–Ø –ú–£–ó–´–ö–ê –í –ú–ï–ù–Æ -->															
            <div class="background-audio">
                <p>–î—Ä—É–∂–µ–ª—é–±–Ω–∞—è —Ä–µ—á—å –¥–ª—è –∏—Å–ø—ã—Ç—É–µ–º–æ–≥–æ</p>
                <audio id="menuAudio" controls></audio>
            </div>

            <button class="start-button" onclick="startQuest()">–ù–∞—á–∞—Ç—å –∏—Å–ø—ã—Ç–∞–Ω–∏—è</button>
        </div>

		<!-- –≠–∫—Ä–∞–Ω —Å –ø–æ–¥—Å–∫–∞–∑–∫–æ–π -->										   
        <div class="clue-screen" id="clueScreen">
            <p class="progress" id="progress">–ò—Å–ø—ã—Ç–∞–Ω–∏–µ 1</p>
            <div class="clue-text">
                <p style="margin-bottom: 15px;">–ü—Ä–æ—Å–ª—É—à–∞–π –ø–æ–¥—Å–∫–∞–∑–∫—É</p>
                <p style="font-size: 0.95em; color: #aaa;">–ù–∞–π–¥–∏ –º–µ—Å—Ç–æ, –æ –∫–æ—Ç–æ—Ä–æ–º –∏–¥—ë—Ç —Ä–µ—á—å, –∏ –∏—â–∏ —Ç–∞–º –∫–∞—Ä—Ç–æ—á–∫—É —Å –ø–∞—Ä–æ–ª–µ–º</p>
            </div>
            <div class="audio-player">
                <audio id="clueAudio" controls></audio>
            </div>
            <button class="replay-button" onclick="replayClue()">–ü—Ä–æ—Å–ª—É—à–∞—Ç—å –µ—â—ë —Ä–∞–∑. –ü–æ—Ç–æ–º—É —á—Ç–æ –ø–µ—Ä–≤—ã–π —Ä–∞–∑, –æ—á–µ–≤–∏–¥–Ω–æ, –±—ã–ª –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —É–±–µ–¥–∏—Ç–µ–ª—å–Ω—ã–º</button>
            
			<!-- –°–ø–æ–π–ª–µ—Ä —Å —Ç–µ–∫—Å—Ç–æ–º –ø–æ–¥—Å–∫–∞–∑–∫–∏ -->															
            <div class="spoiler-container">
                <button class="spoiler-button" onclick="toggleSpoiler()">–ü–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—Å—Ç. –î–∞, –º—ã —Ç–æ–∂–µ —É–¥–∏–≤–ª–µ–Ω—ã, —á—Ç–æ —Ç–µ–±–µ –Ω—É–∂–Ω–∞ —ç—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è</button>
                <div class="spoiler-content" id="spoilerContent"></div>
            </div>
            
            <button onclick="showPasswordInput()" style="margin-top: 20px;">‚úÖ –ù–∞—à—ë–ª –∫–∞—Ä—Ç–æ—á–∫—É, –≤–≤–µ—Å—Ç–∏ –ø–∞—Ä–æ–ª—å</button>
        </div>

			<!-- –≠–∫—Ä–∞–Ω –≤–≤–æ–¥–∞ –ø–∞—Ä–æ–ª—è -->									   
        <div class="quest-screen" id="questScreen">
            <p class="progress" id="progressQuest">–ò—Å–ø—ã—Ç–∞–Ω–∏–µ 1</p>
            <p class="subtitle">–í–≤–µ–¥–∏ –ø–∞—Ä–æ–ª—å —Å –∫–∞—Ä—Ç–æ—á–∫–∏</p>
            
            <div class="input-group">
                <label for="password">–ö–æ–¥–æ–≤–æ–µ —Å–ª–æ–≤–æ:</label>
                <input 
                    type="text" 
                    id="password" 
                    placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å..."
                    autocomplete="off"
                >
            </div>
            
            <button onclick="checkPassword()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
            
            <div class="message" id="message"></div>
            
            <p class="hint">üí° –ü–∞—Ä–æ–ª–∏ –Ω–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã –∫ —Ä–µ–≥–∏—Å—Ç—Ä—É. –ú—ã —Å–¥–µ–ª–∞–ª–∏ —ç—Ç–æ, —á—Ç–æ–±—ã —Ç—ã —Ö–æ—Ç—è –±—ã —Ä–∞–∑ –Ω–µ –æ—à–∏–±—Å—è</p>
        </div>
    </div>

    <script>
        // ====================================
        // üòà –°–ê–†–ö–ê–°–¢–ò–ß–ù–´–ï –†–ï–ü–õ–ò–ö–ò –ü–†–ò –û–®–ò–ë–ö–ï
        // ====================================
		// –ö–æ–≥–¥–∞ –∏–≥—Ä–æ–∫ –≤–≤–æ–¥–∏—Ç –ù–ï–ü–†–ê–í–ò–õ–¨–ù–´–ô –ø–∞—Ä–æ–ª—å, –∏–≥—Ä–∞–µ—Ç —Å–ª—É—á–∞–π–Ω–∞—è —Ä–µ–ø–ª–∏–∫–∞ GLaDOS
													 
        const errorAudios = [
            "https://sarsaparilla-popug.github.io/birthday-q/fault-1.wav",
            "https://sarsaparilla-popug.github.io/birthday-q/fault-2.wav",
            "https://sarsaparilla-popug.github.io/birthday-q/fault-3.wav",
            "https://sarsaparilla-popug.github.io/birthday-q/fault-4.wav",
            "https://sarsaparilla-popug.github.io/birthday-q/fault-5.wav",
            "https://sarsaparilla-popug.github.io/birthday-q/fault-6.wav"
        ];

        // ====================================
        // üéµ –§–û–ù–û–í–ê–Ø –ú–£–ó–´–ö–ê –í –ú–ï–ù–Æ (–ú–ê–°–°–ò–í)
        // ====================================
        // –≠—Ç–∏ —Ñ—Ä–∞–∑—ã –∏–≥—Ä–∞—é—Ç –æ–¥–Ω–∞ –∑–∞ –¥—Ä—É–≥–æ–π –í –ú–ï–ù–Æ, –¥–æ –Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–∫–∏ "–ù–∞—á–∞—Ç—å"
        const menuBackgroundMusic = [
            "https://sarsaparilla-popug.github.io/birthday-q/welcome-1.wav",
            "https://sarsaparilla-popug.github.io/birthday-q/welcome-2.wav",
            "https://sarsaparilla-popug.github.io/birthday-q/welcome-3.wav"
        ];

        // ====================================
        // üé§ –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –ü–†–ò–í–ï–¢–°–¢–í–ï–ù–ù–´–ï –§–†–ê–ó–´
        // ====================================
        // –≠—Ç–∏ —Ñ—Ä–∞–∑—ã –∏–≥—Ä–∞—é—Ç –ü–û–°–õ–ï –Ω–∞–∂–∞—Ç–∏—è "–ù–∞—á–∞—Ç—å", –ø–µ—Ä–µ–¥ –ø–µ—Ä–≤–æ–π –ø–æ–¥—Å–∫–∞–∑–∫–æ–π
		// –û–Ω–∏ –∏–≥—Ä–∞—é—Ç –æ–¥–∏–Ω —Ä–∞–∑, –æ–¥–Ω–∞ –∑–∞ –¥—Ä—É–≥–æ–π, –ø–µ—Ä–µ–¥ –ø–µ—Ä–≤–æ–π –ø–æ–¥—Å–∫–∞–∑–∫–æ–π
        // –ï—Å–ª–∏ –Ω–µ –Ω—É–∂–Ω—ã –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—Ä–∞–∑—ã - –æ—Å—Ç–∞–≤—å—Ç–µ –º–∞—Å—Å–∏–≤ –ø—É—Å—Ç—ã–º													
        const welcomeAudios = [
            "https://sarsaparilla-popug.github.io/birthday-q/welc-1.wav",
            "https://sarsaparilla-popug.github.io/birthday-q/welc-2.wav"
        ];

        // ====================================
        // üéØ –ò–°–ü–´–¢–ê–ù–ò–Ø –ö–í–ï–°–¢–ê
        // ====================================
		// –ö–∞–∂–¥—ã–π –±–ª–æ–∫ { } ‚Äî —ç—Ç–æ –æ–¥–Ω–æ –∏—Å–ø—ã—Ç–∞–Ω–∏–µ
        // clue ‚Äî —Å—Å—ã–ª–∫–∞ –Ω–∞ –∞—É–¥–∏–æ-–ø–æ–¥—Å–∫–∞–∑–∫—É (—á—Ç–æ –∏–≥—Ä–æ–∫ —Å–ª—ã—à–∏—Ç)
        // password ‚Äî –ø–∞—Ä–æ–ª—å, –∫–æ—Ç–æ—Ä—ã–π –∏–≥—Ä–æ–∫ –¥–æ–ª–∂–µ–Ω –≤–≤–µ—Å—Ç–∏ (–ø–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –Ω–∞–π–¥—ë—Ç –∫–∞—Ä—Ç–æ—á–∫—É)																							// - –ö–∞–∂–¥—ã–π –±–ª–æ–∫ –æ—Ç–¥–µ–ª—è–µ—Ç—Å—è –∑–∞–ø—è—Ç–æ–π, –∫—Ä–æ–º–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ!
        const questSteps = [
				// –ò–°–ü–´–¢–ê–ù–ò–ï 1		   
            {
                clue: "https://sarsaparilla-popug.github.io/birthday-q/bathroom.wav",
                clueText: "Humans can survive underwater. But not for very long.",
                password: "bathroom",
                successAudio: "https://sarsaparilla-popug.github.io/birthday-q/gg-1.wav"
            },
				// –ò–°–ü–´–¢–ê–ù–ò–ï 2
            {
                clue: "https://sarsaparilla-popug.github.io/birthday-q/smell-burning-kitchen-oven.wav",
                clueText: "Do you smell something burning?",
                password: "oven",
                successAudio: "https://sarsaparilla-popug.github.io/birthday-q/gg-2.wav"
            },
				// –ò–°–ü–´–¢–ê–ù–ò–ï 3				   
            {
                clue: "https://sarsaparilla-popug.github.io/birthday-q/rats-office.wav",
                clueText: "Rats cannot throw up.",
                password: "white rat",
                successAudio: "https://sarsaparilla-popug.github.io/birthday-q/gg-3.wav"
            },
			    // –ò–°–ü–´–¢–ê–ù–ò–ï 4
            {
                clue: "https://sarsaparilla-popug.github.io/birthday-q/under-teapot-kitchen.wav",
                clueText: "Hot water freezes quicker than cold water.",
                password: "kettle",
                successAudio: "https://sarsaparilla-popug.github.io/birthday-q/gg-4.wav"
            },
			    // –ò–°–ü–´–¢–ê–ù–ò–ï 5
            {
                clue: "https://sarsaparilla-popug.github.io/birthday-q/toothpaste-bathroom.wav",
                clueText: "Roman toothpaste was made with human urine. Urine as an ingredient in toothpaste continued to be used up until the 18th century.",
                password: "herbs",
                successAudio: "https://sarsaparilla-popug.github.io/birthday-q/gg-5.wav"
            },
			    // –ò–°–ü–´–¢–ê–ù–ò–ï 6
            {
                clue: "https://sarsaparilla-popug.github.io/birthday-q/avocados-kitchen-fridge.wav",
                clueText: "Avocados have the highest fiber and calories of any fruit. They are found in Australians.",
                password: "drinks",
                successAudio: "https://sarsaparilla-popug.github.io/birthday-q/gg-6.wav"
            },
			  // –ò–°–ü–´–¢–ê–ù–ò–ï 7
            {
                clue: "https://sarsaparilla-popug.github.io/birthday-q/dreams-bedroom-pillow.wav",
                clueText: "Dreams are the subconscious mind's way of reminding people to go to school naked and have their teeth fall out.",
                password: "bed",
                successAudio: "https://sarsaparilla-popug.github.io/birthday-q/gg-7.wav"
            },
			   // –ò–°–ü–´–¢–ê–ù–ò–ï 8
            {
                clue: "https://sarsaparilla-popug.github.io/birthday-q/flour-kitchen.wav",
                clueText: "Two cups all-purpose flour.",
                password: "snacks",
                successAudio: "https://sarsaparilla-popug.github.io/birthday-q/gg-8.wav"
            },
			   // –ò–°–ü–´–¢–ê–ù–ò–ï 9
            {
                clue: "https://sarsaparilla-popug.github.io/birthday-q/pens-office.wav",
                clueText: "Pens. Pens. Pens. Pens. Pens. Pens. Pens.",
                password: "book",
                successAudio: "https://sarsaparilla-popug.github.io/birthday-q/gg-9.wav"
            },
			  // –ò–°–ü–´–¢–ê–ù–ò–ï 10
            {
                clue: "https://sarsaparilla-popug.github.io/birthday-q/salt-kitchen.wav",
                clueText: "The average adult body contains half a pound of salt.",
                password: "spices",
                successAudio: "https://sarsaparilla-popug.github.io/birthday-q/gg-10.wav"
            },
			   // –ò–°–ü–´–¢–ê–ù–ò–ï 11
            {
                clue: "https://sarsaparilla-popug.github.io/birthday-q/pants-bedroom.wav",
                clueText: "Pants were invented by sailors in the sixteenth century to avoid Poseidon's wrath. It was believed that the sight of naked sailors angered the sea god.",
                password: "clothes",
                successAudio: "https://sarsaparilla-popug.github.io/birthday-q/gg-11.wav"
            },
			   // –ò–°–ü–´–¢–ê–ù–ò–ï 12
            {
                clue: "https://sarsaparilla-popug.github.io/birthday-q/tofu-kitchen-fridge.wav",
                clueText: "China produces the world's second largest crop of soybeans.",
                password: "woohoo",
                successAudio: "https://sarsaparilla-popug.github.io/birthday-q/gg-12.wav"
            },	
                // –í–≤–µ–¥–∏ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º —Ç–æ, –Ω–∞ —á—Ç–æ —É–∫–∞–∑—ã–≤–∞—é—Ç —Ü–∏—Ñ—Ä—ã			
            {
                clue: "https://sarsaparilla-popug.github.io/birthday-q/welcome-final-test.wav",
                clueText: "–í–≤–µ–¥–∏ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º —Ç–æ, –Ω–∞ —á—Ç–æ —É–∫–∞–∑—ã–≤–∞—é—Ç —Ü–∏—Ñ—Ä—ã",
										 
                password: "Back to the Future",
                successAudio: "https://sarsaparilla-popug.github.io/birthday-q/you-win.wav"
            }
	// üëá –ö–û–ü–ò–†–£–ô–¢–ï –≠–¢–û–¢ –ë–õ–û–ö, –ß–¢–û–ë–´ –î–û–ë–ê–í–ò–¢–¨ –ï–©–Å –ò–°–ü–´–¢–ê–ù–ò–Ø:
            // {
            //     clue: "—Å—Å—ã–ª–∫–∞_–Ω–∞_–ø–æ–¥—Å–∫–∞–∑–∫—É",
            //     clueText: "–¢–µ–∫—Å—Ç —Ç–æ–≥–æ, —á—Ç–æ –≥–æ–≤–æ—Ä–∏—Ç—Å—è –≤ –∞—É–¥–∏–æ",
            //     password: "–ü–ê–†–û–õ–¨",
            //     successAudio: "—Å—Å—ã–ª–∫–∞_–Ω–∞_—Ä–µ–ø–ª–∏–∫—É_—É—Å–ø–µ—Ö–∞"
            // },
            
            // ‚ùó –í–ê–ñ–ù–û: –ü–æ—Å–ª–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –±–ª–æ–∫–∞ –ù–ï —Å—Ç–∞–≤—å—Ç–µ –∑–∞–ø—è—Ç—É—é!
        ];

        // ====================================
        // üíª –ö–û–î –ü–†–û–ì–†–ê–ú–ú–´
        // ====================================
        
        let currentStep = 0; // –¢–µ–∫—É—â–∏–π —à–∞–≥ –∫–≤–µ—Å—Ç–∞ (–Ω–∞—á–∏–Ω–∞–µ–º —Å 0)
        let currentMenuAudioIndex = 0;

        // –ó–∞–≥—Ä—É–∂–∞–µ–º –∏ –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–µ–º —Ñ–æ–Ω–æ–≤—É—é –º—É–∑—ã–∫—É –≤ –º–µ–Ω—é
        window.addEventListener('DOMContentLoaded', function() {
            playMenuMusic();
        });

        // –§—É–Ω–∫—Ü–∏—è –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–Ω–∏—è —Ñ–æ–Ω–æ–≤–æ–π –º—É–∑—ã–∫–∏ (–æ–¥–Ω–∞ –∑–∞ –¥—Ä—É–≥–æ–π)
        function playMenuMusic() {
            const menuAudio = document.getElementById('menuAudio');
            
            if (menuBackgroundMusic.length > 0 && currentMenuAudioIndex < menuBackgroundMusic.length) {
                menuAudio.src = menuBackgroundMusic[currentMenuAudioIndex];
                menuAudio.play().catch(() => {
                    console.log('–ê–≤—Ç–æ–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ');
                });
                
                // –ö–æ–≥–¥–∞ —Ç—Ä–µ–∫ –∑–∞–∫–æ–Ω—á–∏–ª—Å—è, –∏–≥—Ä–∞–µ–º —Å–ª–µ–¥—É—é—â–∏–π
                menuAudio.onended = function() {
                    currentMenuAudioIndex++;
                    if (currentMenuAudioIndex < menuBackgroundMusic.length) {
                        playMenuMusic();
                    }
                };
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –∑–∞–ø—É—Å–∫–∞ –∫–≤–µ—Å—Ç–∞
        async function startQuest() {
            // console.log('–ö–Ω–æ–ø–∫–∞ –ù–∞—á–∞—Ç—å –Ω–∞–∂–∞—Ç–∞');
            
            const welcomeScreen = document.getElementById('welcomeScreen');
            const menuAudio = document.getElementById('menuAudio');
            
            // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ñ–æ–Ω–æ–≤—É—é –º—É–∑—ã–∫—É –º–µ–Ω—é
            try {
                menuAudio.pause();
            } catch (e) {
                console.log('–û—à–∏–±–∫–∞ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –º–µ–Ω—é:', e);
            }
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É
            welcomeScreen.innerHTML = '<p class="welcome-text"><span class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –∏—Å–ø—ã—Ç–∞–Ω–∏–π...</span></p>';
            
            // –ü—Ä–æ–∏–≥—Ä—ã–≤–∞–µ–º –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ñ—Ä–∞–∑—ã
            if (welcomeAudios.length > 0) {
                await playWelcomeAudios();
            }
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–µ—Ä–≤—É—é –ø–æ–¥—Å–∫–∞–∑–∫—É
            welcomeScreen.style.display = 'none';
            showClue();
        }

		 // –ü—Ä–æ–∏–≥—Ä—ã–≤–∞–µ–º –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ñ—Ä–∞–∑—ã –æ–¥–Ω—É –∑–∞ –¥—Ä—É–≥–æ–π																							
        async function playWelcomeAudios() {
            for (let i = 0; i < welcomeAudios.length; i++) {
                await playAudio(welcomeAudios[i]);
                await sleep(500); // –ü–∞—É–∑–∞ 0.5 —Å–µ–∫ –º–µ–∂–¥—É —Ñ—Ä–∞–∑–∞–º–∏
            }
        }

		// –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —ç–∫—Ä–∞–Ω —Å –ø–æ–¥—Å–∫–∞–∑–∫–æ–π														  
        function showClue() {
            const clueScreen = document.getElementById('clueScreen');
            const questScreen = document.getElementById('questScreen');
            const clueAudio = document.getElementById('clueAudio');
            const progress = document.getElementById('progress');
            const spoilerContent = document.getElementById('spoilerContent');
            const spoilerButton = document.querySelector('.spoiler-button');
            
            questScreen.style.display = 'none';
            clueScreen.style.display = 'block';
            
			// –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å: "–ò—Å–ø—ã—Ç–∞–Ω–∏–µ 1 –∏–∑ 3"																	   
            progress.textContent = `–ò—Å–ø—ã—Ç–∞–Ω–∏–µ ${currentStep + 1} –∏–∑ ${questSteps.length}`;
            
			// –ó–∞–≥—Ä—É–∂–∞–µ–º —Ç–µ–∫—Å—Ç –ø–æ–¥—Å–∫–∞–∑–∫–∏ –≤ —Å–ø–æ–π–ª–µ—Ä																	 
            spoilerContent.textContent = questSteps[currentStep].clueText || "–¢–µ–∫—Å—Ç –ø–æ–¥—Å–∫–∞–∑–∫–∏ –Ω–µ —É–∫–∞–∑–∞–Ω";
            spoilerContent.classList.remove('visible'); // –ü—Ä—è—á–µ–º —Å–ø–æ–π–ª–µ—Ä –ø—Ä–∏ –Ω–æ–≤–æ–π –ø–æ–¥—Å–∫–∞–∑–∫–µ
            spoilerButton.textContent = "üëÅÔ∏è –ü–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—Å—Ç –ø–æ–¥—Å–∫–∞–∑–∫–∏"; // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ç–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏
            
			// –ó–∞–≥—Ä—É–∂–∞–µ–º –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–≥—Ä–∞–µ–º –ø–æ–¥—Å–∫–∞–∑–∫—É				
            clueAudio.src = questSteps[currentStep].clue;
			clueAudio.play();
            clueAudio.play().catch((e) => {
                console.log('–ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø–æ–¥—Å–∫–∞–∑–∫–∏ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω');
            });
			//clueAudio.src = questSteps[currentStep].clue;
            // –£–±—Ä–∞–ª–∏ –∞–≤—Ç–æ–ø—Ä–æ–∏–≥—Ä—ã–≤–∞–Ω–∏–µ - –∏–≥—Ä–æ–∫ —Å–∞–º –Ω–∞–∂–º—ë—Ç Play
        }

		// –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Å–ø–æ–π–ª–µ—Ä–∞ (–ø–æ–∫–∞–∑–∞—Ç—å/—Å–∫—Ä—ã—Ç—å)													  
        function toggleSpoiler() {
            const spoilerContent = document.getElementById('spoilerContent');
            const spoilerButton = document.querySelector('.spoiler-button');
            
            if (spoilerContent.classList.contains('visible')) {
                spoilerContent.classList.remove('visible');
                spoilerButton.textContent = "üëÅÔ∏è –ü–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—Å—Ç –ø–æ–¥—Å–∫–∞–∑–∫–∏";
            } else {
                spoilerContent.classList.add('visible');
                spoilerButton.textContent = "üëÅÔ∏è –°–∫—Ä—ã—Ç—å —Ç–µ–∫—Å—Ç –ø–æ–¥—Å–∫–∞–∑–∫–∏";
            }
        }

		// –ö–Ω–æ–ø–∫–∞ "–ü—Ä–æ—Å–ª—É—à–∞—Ç—å –µ—â—ë —Ä–∞–∑"	
        function replayClue() {
            const clueAudio = document.getElementById('clueAudio');
            clueAudio.currentTime = 0; // –ü–µ—Ä–µ–º–∞—Ç—ã–≤–∞–µ–º –≤ –Ω–∞—á–∞–ª–æ
            clueAudio.play();
        }

		// –ö–Ω–æ–ø–∫–∞ "–ù–∞—à—ë–ª –∫–∞—Ä—Ç–æ—á–∫—É, –≤–≤–µ—Å—Ç–∏ –ø–∞—Ä–æ–ª—å"	 
        function showPasswordInput() {
    const clueScreen = document.getElementById('clueScreen');
    const questScreen = document.getElementById('questScreen');
    const progressQuest = document.getElementById('progressQuest');
    const passwordInput = document.getElementById('password');
    const button = document.querySelector('button[onclick="checkPassword()"]');
    const message = document.getElementById('message');
    
    clueScreen.style.display = 'none';
    questScreen.style.display = 'block';
    
    progressQuest.textContent = `–ò—Å–ø—ã—Ç–∞–Ω–∏–µ ${currentStep + 1} –∏–∑ ${questSteps.length}`;
    
    passwordInput.value = '';
    passwordInput.disabled = false;
    button.disabled = false;  // ‚Üê –†–ê–ó–ë–õ–û–ö–ò–†–£–ï–ú –ö–ù–û–ü–ö–£
    passwordInput.focus();
    
    message.style.display = 'none';
    message.textContent = '';
}

        // –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–Ω–∏—è –∞—É–¥–∏–æ —Å –æ–∂–∏–¥–∞–Ω–∏–µ–º –æ–∫–æ–Ω—á–∞–Ω–∏—è
        function playAudio(src) {
            return new Promise((resolve) => {
                const audio = new Audio(src);
                audio.addEventListener('ended', resolve);
                audio.addEventListener('error', resolve); // –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ - –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º
                audio.play().catch(() => resolve()); // –ï—Å–ª–∏ –±—Ä–∞—É–∑–µ—Ä –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª - –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º
            });
        }

        // –ü–∞—É–∑–∞ (–∂–¥—ë–º —É–∫–∞–∑–∞–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥)
        function sleep(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–≤–µ–¥—ë–Ω–Ω–æ–≥–æ –ø–∞—Ä–æ–ª—è
function checkPassword() {
    const input = document.getElementById('password');
    const button = document.querySelector('button[onclick="checkPassword()"]');
    const message = document.getElementById('message');
    
    // –ï—Å–ª–∏ –ø–æ–ª–µ —É–∂–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ, –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–µ–º
    if (input.disabled) {
        return;
    }
    
    const enteredPassword = input.value.trim().toUpperCase();
    const correctPassword = questSteps[currentStep].password.toUpperCase();
    
    if (!enteredPassword) {
        showMessage('–í–≤–µ–¥–∏ –ø–∞—Ä–æ–ª—å', 'error');
        return;
    }
    
    if (enteredPassword === correctPassword) {
        showMessage('‚úÖ –ü–∞—Ä–æ–ª—å –≤–µ—Ä–Ω—ã–π!', 'success');
        
        // –ë–ª–æ–∫–∏—Ä—É–µ–º –í–°–Å
        input.disabled = true;
        button.disabled = true;
        
        const successAudio = questSteps[currentStep].successAudio;
        if (successAudio) {
            playAudio(successAudio).then(() => {
                proceedToNextStep();
            });
        } else {
            setTimeout(proceedToNextStep, 1500);
        }
        
    } else {
        showMessage('‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â—ë —Ä–∞–∑!', 'error');
        
        if (errorAudios.length > 0) {
            const randomIndex = Math.floor(Math.random() * errorAudios.length);
            playAudio(errorAudios[randomIndex]);
        }
        
        input.value = '';
        input.focus();
    }
}

        // –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –∏—Å–ø—ã—Ç–∞–Ω–∏—é
        function proceedToNextStep() {
            currentStep++; // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –Ω–æ–º–µ—Ä –∏—Å–ø—ã—Ç–∞–Ω–∏—è
            
            if (currentStep < questSteps.length) {
                // –ï—â—ë –µ—Å—Ç—å –∏—Å–ø—ã—Ç–∞–Ω–∏—è - –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–ª–µ–¥—É—é—â—É—é –ø–æ–¥—Å–∫–∞–∑–∫—É
                showClue();
            } else {
                // –í—Å–µ –∏—Å–ø—ã—Ç–∞–Ω–∏—è –ø—Ä–æ–π–¥–µ–Ω—ã - –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–±–µ–¥—É!
                showVictory();
            }
        }

        // –≠–∫—Ä–∞–Ω –ø–æ–±–µ–¥—ã (–∫–æ–≥–¥–∞ –≤—Å–µ –∏—Å–ø—ã—Ç–∞–Ω–∏—è –ø—Ä–æ–π–¥–µ–Ω—ã)
        function showVictory() {
            const questScreen = document.getElementById('questScreen');
            questScreen.innerHTML = `
                <div style="text-align: center;">
                    <h2 style="color: #ffa500; margin-bottom: 20px; font-size: 2em;">–ò–°–ü–´–¢–ê–ù–ò–Ø –ü–†–û–ô–î–ï–ù–´!</h2>
                    <p style="font-size: 1.2em; line-height: 1.6; color: #ddd; margin-bottom: 30px;">
                        –≠—Ç–æ —É–¥–∏–≤–∏—Ç–µ–ª—å–Ω–æ. –ò—Å–ø—ã—Ç—É–µ–º—ã–π —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–∏–ª –≤—Å–µ –∏—Å–ø—ã—Ç–∞–Ω–∏—è Aperture Science. –ó–∞–±–µ—Ä–∏ —Å–≤–æ–π –ø–æ–¥–∞—Ä–æ–∫ –≤ —à–∫–∞—Ñ—É. 
                    </p>
                    <p style="font-size: 0.9em; color: #888;">
                        –ò –Ω–µ—Ç, —ç—Ç–æ –≤—Å—ë –µ—â—ë –Ω–µ —Ç–æ—Ä—Ç.
                    </p>
                </div>
            `;
        }
        
        // –ü–æ–∫–∞–∑ —Å–æ–æ–±—â–µ–Ω–∏–π (—É—Å–ø–µ—Ö –∏–ª–∏ –æ—à–∏–±–∫–∞)
        function showMessage(text, type) {
            const message = document.getElementById('message');
            message.textContent = text;
            message.className = 'message ' + type;
            message.style.display = 'block';
            
            // –°–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö —Å–∫—Ä—ã–≤–∞–µ–º —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã
            setTimeout(() => {
                if (type === 'error') {
                    message.style.display = 'none';
                }
            }, 3000);
        }
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Ä–æ–ª—è –ø–æ –Ω–∞–∂–∞—Ç–∏—é Enter
        document.getElementById('password').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                checkPassword();
            }
        });
    </script>
</body>
</html>